/* ==========================================================================
   General App Layout & Theme
   ========================================================================== */

/* Main Dashboard Theme */
.skin-blue .main-header .navbar,
.skin-blue .main-header .logo {
  background-color: #28A745;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  border-bottom: none;
}

.skin-blue .main-header .navbar:hover,
.skin-blue .main-header .logo:hover {
  background-color: #1e7e34;
}

.skin-blue .main-header .navbar .sidebar-toggle:hover {
  background-color: #1e7e34;
}

/* Sidebar Menu */
.skin-blue .sidebar-menu > li:hover > a,
.skin-blue .sidebar-menu > li.active > a {
  background-color: #1e7e34;
  border-left-color: #28A745;
}

.skin-blue .sidebar a {
  font-size: large;
  font-weight: 800;
}

/* Navigation Pills/Tabs */
.nav-pills {
  margin-bottom: 5px;
  border-bottom: 1px solid #e9ecef!important;
  border-radius: 6px;
  padding-bottom: 5px;
}

.nav-pills > li > a {
  color: #000000;
  margin-right: 5px!important;
  border-radius: 6px!important;
  background-color: #c2c0de;
  padding: 10px 25px;      /* Increase vertical and horizontal padding */
  font-size: large;          /* Make the font slightly larger */
  font-weight: 600;         /* Make the font bold */
  text-align: center;       /* Ensure text is centered */
  min-width: 120px;
}

.nav-pills > li.active > a,
.nav-pills > li > a.active {
  color: #ffffff!important;
  margin-right: 5px!important;
  border-radius: 6px!important;
  background-color: #605CA8;
  border-top-color: #918ec3;
}

.nav-pills > li.active > a:focus,
.nav-pills > li.active > a:hover {
  background-color: #605CA8;
  border-top-color: #918ec3;
  color: white!important;
}

.nav-pills .nav-link:not(.active):hover,
.nav-pills .nav-link:not(.active):focus{
  background-color: #918ec3;
}

/* ==========================================================================
   Containers & Layout
   ========================================================================== */

.page-header {
  background-color: #f8f9fa; /* A very light grey */
  padding: 20px;
  margin-bottom: 25px;
  border-radius: 10px;
  border: 1px solid #e9ecef;
}

.dashboard-card {
  background-color: white;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  margin-bottom: 25px;
  overflow: hidden;
  position: relative;
}

.dashboard-card-drop-down {
  background-color: white;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  margin-bottom: 25px;
  overflow: visible;
}

.card-header {
  background-color: #f8f9fa;
  padding: 15px 20px;
  border-bottom: 1px solid #e9ecef;
  display: flex;
  align-items: center;
}

.card-sub-header {
  padding: 5px 20px;
  border-bottom: 1px solid #e9ecef;
  display: flex;
  align-items: center;
}

.card-column-header {
  padding: 5px 35px;
  border-bottom: 1px solid #e9ecef;
  display: flex;
  align-items: center;
}

.card-body {
  padding: 20px;
}

.dashboard-container {
  background-color: #f8f9fa;
  border-radius: 10px;
  padding: 20px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  margin-bottom: 20px;
}

.upload-section,.diagnostics-section {
  margin-bottom: 25px;
  padding-bottom: 20px;
  border-bottom: 1px solid #e9ecef;
}

.parameter-section {
  margin-bottom: 20px;
  padding-bottom: 15px;
  border-bottom: 1px solid #f0f0f0;
}

.parameter-section:last-child {
  border-bottom: none;
  padding-bottom: 0;
}

.parameter-section h5 {
  color: #495057;
  font-weight: 600;
  margin-bottom: 10px;
  font-size: 16px;
}

.row-parameter-section {
  margin-bottom: 10px;
  padding-bottom: 5px;
  border-bottom: 1px solid #f0f0f0;
  display: flex;
  align-items: center;
}

.row-parameter-section h5 {
  color: #495057;
  font-weight: 600;
  margin-bottom: 0px;
  font-size: 16px;
}

.input-group-container {
  margin-bottom: 15px;
}

.switch-container {
  background-color: #f8f9fa;
  padding: 15px;
  border-radius: 8px;
  margin-bottom: 15px;
}

.switch-container h5 {
  color: #495057;
  font-weight: 600;
  margin-bottom: 15px;
  font-size: 16px;
}

.button-container {
  display: flex;
  gap: 15px;
  margin: 20px 0;
  justify-content: center;
}

.plot-container {
  background-color: #f8f9fa;
  border-radius: 8px;
  padding: 15px;
  margin-top: 20px;
}

/* ==========================================================================
   Custom Collapsible Box Styling
   ========================================================================== */

/* Main box container */
.box.box-solid.box-primary {
  border: 1px solid #e9ecef;
  border-radius: 10px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  margin-bottom: 20px;
}

/* Box header style */
.box.box-solid.box-primary > .box-header {
  background: #f8f9fa; /* Light grey background to match card headers */
  color: #605CA8; /* Purple text to match main titles */
  border-bottom: 1px solid #e9ecef;
  border-radius: 9px 9px 0 0;
  padding: 12px 15px;
  font-weight: 600;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

/* Header hover effect */
.box.box-solid.box-primary > .box-header:hover {
  background: #e9ecef;
}

/* Box title style */
.box.box-solid.box-primary > .box-header .box-title {
  font-size: 16px;
  font-weight: 700;
}

/* Collapse/Expand button style */
.box.box-solid.box-primary > .box-header .btn-box-tool {
  color: #605CA8;
  font-size: 18px;
  padding: 5px;
  transition: transform 0.3s ease;
}

.box.box-solid.box-primary > .box-header .btn-box-tool:hover {
  color: #28A745; /* Green on hover */
  transform: scale(1.1);
}

/* Rotate the icon when the box is not collapsed */
.box.box-solid.box-primary:not(.collapsed-box) .fa-plus:before {
  content: "\f068"; /* Font Awesome minus icon */
  font-family: "Font Awesome 5 Free";
  font-weight: 900;
}

/* Box body style */
.box.box-solid.box-primary > .box-body {
  padding: 20px;
  background-color: #ffffff;
  border-radius: 0 0 9px 9px;
}


/* ==========================================================================
   Typography
   ========================================================================== */

.h1,.h2,.h3,.h4,.h5,.h6, h1, h2, h3, h4, h5, h6 {
  font-family: 'Source Sans Pro';
  font-weight: 600;
  color: #605CA8;
}

.p, p {
  font-family: 'Source Sans Pro';
}

.main-title {
  color: #605CA8;
  font-size: 28px;
  margin-bottom: 20px;
  font-weight: 600;
}

.version-badge {
  display: inline-block;
  font-size: 12px; /* A little smaller */
  font-weight: 600;
  padding: 5px 7px;
  background-color: #f8f9fa; /* A very light grey */
  color: #28A745; /* Match the title color */
  border-radius: 15px; /* More rounded pill shape */
  border-bottom: 1px solid #e9ecef;
  align-items: center;
}


/* ==========================================================================
   Buttons
   ========================================================================== */

/* Default Button (e.g., File Upload "Browse...") */
.btn-default {
  background-color: #28A745;
  color: #FFFFFF;
  border: 2px solid #1e7e34;
  border-radius: 6px;
  padding: 8px 16px;
  font-weight: 600;
  font-size: 16px;
  transition: all 0.3s ease;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  position: relative;
  min-height: 44px;
  min-width: 44px;
}

.btn-default:hover {
  background-color: #218838;
  border-color: #1e7e34;
  box-shadow: 0 4px 8px rgba(0,0,0,0.15);
  transform: translateY(-2px);
}

.btn-default:focus {
  outline: 3px solid #5dd879;
  outline-offset: 2px;
}

.btn-default:active {
  background-color: #1e7e34;
  border-color: #1c7430;
  box-shadow: 0 1px 2px rgba(0,0,0,0.2) inset;
  transform: translateY(2px);
}

.btn-default:active:hover {
  background-color: #1c7430;
  border-color: #1a6d2c;
}

/* Primary Button (e.g., Radio Group Buttons) */
.btn-primary {
  background-color: #28A745;
  border: 1px solid #1e7e34;
  color: white;
  border-radius: 6px;
  padding: 8px 16px;
  font-weight: 700;
  transition: all 0.3s ease;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  font-size: 1.40rem;
  letter-spacing: 0.02em;
}

.btn-primary:hover {
  background-color: #218838;
  border-color: #1e7e34;
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.btn-primary:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.3);
}

.btn-primary:active,.btn-primary.active {
  background-color: #1e7e34!important;
  border-color: #1c7430;
  transform: translateY(1px);
  box-shadow: 0 1px 2px rgba(0,0,0,0.2) inset;
  font-weight: 700;
}

.btn-primary:active:hover,.btn-primary.active:hover {
  background-color: #1c7430;
  border-color: #1a6d2c;
}

.btn-primary.math-symbol {
  font-weight: 700;
  text-shadow: 0 1px 1px rgba(0,0,0,0.2);
}

/* ==========================================================================
   DataTables Custom Styling (Corrected)
   ========================================================================== */

/* Table Header - More specific selector to override defaults */
.dataTables_wrapper .dataTables_scrollHead .dataTables_scrollHeadInner table.dataTable thead th {
  background-color: #605CA8 !important; /* Purple header to match theme */
  color: white !important;
  font-weight: 600;
  border-bottom: 2px solid #4d4a8e !important;
  transition: background-color 0.2s ease-in-out; /* Added for smooth hover effect */
  box-shadow: inset 0px 1px 4px rgba(0,0,0,0.3); /* Added subtle inset shadow */
}

/* Add border-radius to the first and last header cells for smoothed corners */
.dataTables_wrapper .dataTables_scrollHead .dataTables_scrollHeadInner table.dataTable thead th:first-child {
  border-top-left-radius: 8px;
}

.dataTables_wrapper .dataTables_scrollHead .dataTables_scrollHeadInner table.dataTable thead th:last-child {
  border-top-right-radius: 8px;
}


/* Table Header Hover & Active Sort Column Style */
.dataTables_wrapper .dataTables_scrollHead .dataTables_scrollHeadInner table.dataTable thead th:hover,
.dataTables_wrapper .dataTables_scrollHead .dataTables_scrollHeadInner table.dataTable thead th.sorting_asc,
.dataTables_wrapper .dataTables_scrollHead .dataTables_scrollHeadInner table.dataTable thead th.sorting_desc {
  background-color: #7976c8 !important; /* Lighter purple for hover and active sort */
}


/* Row Hover Style */
.table-hover > tbody > tr:hover {
  background-color: #f0f0f8 !important; /* Light purple hover */
}

/* FIX: Force no wrapping to enable horizontal scrolling */
.dataTables_wrapper table.dataTable th,
.dataTables_wrapper table.dataTable td {
  white-space: nowrap;
}

/* Search and Length-Change Inputs */
.dataTables_wrapper .dataTables_filter input,
.dataTables_wrapper .dataTables_length select {
  border: 1px solid #28A745;
  border-radius: 6px;
  padding: 6px 12px;
  transition: all 0.3s ease;
}

.dataTables_wrapper .dataTables_filter input:focus,
.dataTables_wrapper .dataTables_length select:focus {
  box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
  border-color: #28a745;
  outline: none;
}

/* Pagination Buttons */
.dataTables_wrapper .dataTables_paginate .paginate_button {
  border-radius: 6px !important;
  margin: 0 3px;
  border: 1px solid transparent !important; /* Remove default borders */
}

.dataTables_wrapper .dataTables_paginate .paginate_button.current,
.dataTables_wrapper .dataTables_paginate .paginate_button.current:hover {
  background: #605CA8 !important;
  border-color: #4d4a8e !important;
  color: white !important;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1) inset;
}

.dataTables_wrapper .dataTables_paginate .paginate_button:hover {
  background: #e9ecef !important;
  border-color: #ddd !important;
  color: #333 !important;
}

/* Export Buttons (Copy, CSV, etc.) - More specific selector */
.dt-buttons .dt-button {
  background-color: #28A745 !important; /* Main App Green */
  background-image: none !important; /* Remove default gradient */
  color: white !important;
  font-weight: bold !important;
  border: 1px solid #1e7e34 !important;
  border-radius: 6px !important;
  box-shadow: none !important;
  transition: background-color 0.2s ease-in-out !important;
  padding: 6px 16px !important;
}

.dt-buttons .dt-button:hover {
  background-color: #218838 !important; /* Darker green on hover */
  border-color: #1e7e34 !important;
}


/* ==========================================================================
   Inputs & Controls
   ========================================================================== */

/* General Form Controls */
.form-control {
  border: 1px solid #28A745;
  border-color: #28a745;
  padding: 8px 12px;
  transition: all 0.3s ease;
  height: 44px;
  max-width: 100%;
}

.form-control:hover,
.form-control:focus {
  box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
  border-color: #28a745;
  background-color: #f8f9fa;
}

.form-group.shiny-input-container {
  max-width: 600px;
  width: auto;
}

/* Input Addons (for numericInputIcon) */
.input-group.input-group-addon {
  background-color: #28A745;
  border-color: #1e7e34;
  color: white;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1) inset;
  border-radius: 0 6px 6px 0;
  padding: 6px 12px;
  font-weight: 500;
}

/* SliderTextInput */
.irs-bar,.irs-bar-edge,.irs-single,.irs-grid-pol.small {
  background: #28A745!important;
  border-color: #28A745!important;
}
.irs-from, .irs-to, .irs-single {
  background: #605CA8!important;
}

.irs-handle.single {
  border: 2px solid #605CA8 !important; /* Main App Purple border */
  background: white !important;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2) !important;
  transition: transform 0.2s ease-in-out;
}

.irs-handle.single:hover {
  transform: scale(1.1);
}

.irs-min, .irs-max {
  background-color: #f8f9fa; /* Light grey background */
  color: #495057 !important; /* Dark grey text */
  font-weight: 600;
  padding: 2px 8px;
  border-radius: 4px;
  border: 1px solid #e9ecef;
}

.irs-slider {
  border: 2px solid #28A745!important;
  background: white!important;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1)!important;
}

.irs-slider:hover, .irs-slider.state_hover {
  background: #f9f9f9!important;
  transform: scale(1.1);
}
.irs-grid-text {
  color: #666!important;
  font-weight: 500!important;
  font-size: 11px!important;
}

.irs-grid-pol {
  background: #28A745!important;
}

.irs {
  height: 50px!important;
}

.irs-with-grid {
  margin-top: 10px!important;
  margin-bottom: 20px!important;
}





/* ==========================================================================
   Specific Components
   ========================================================================== */

/* Progress Bar */
.progress {
  background-color: #f8f9fa;
  border-radius: 6px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  height: 20px;
  margin-bottom: 15px;
  max-width: 600px;
  overflow: hidden;
  position: relative;
}

.progress:hover {
  box-shadow: 0 2px 5px rgba(0,0,0,0.15);
}

.progress-bar {
  background-color: #28a745;
  color: #fff;
  font-weight: 600;
  font-size: 14px;
  text-align: center;
  height: 100%;
  line-height: 20px;
  transition: width 0.4s ease;
  background-image: linear-gradient(
    45deg,
    rgba(255, 255, 255, 0.15) 25%,
    transparent 25%,
    transparent 50%,
    rgba(255, 255, 255, 0.15) 50%,
    rgba(255, 255, 255, 0.15) 75%,
    transparent 75%,
    transparent
  );
  background-size: 1rem 1rem;
}

/* Diagnostic Test Items */
.section-header {
  display: flex;
  align-items: center;
  margin-bottom: 15px;
  font-weight: 600;
  color: #333;
}

.section-header i {
  margin-right: 10px;
}

.section-icon {
  color: #605ca8;
  margin-right: 8px;
}

.header-icon {
  color: #28A745;
  margin-right: 10px;
  font-size: 18px;
}

.sub-header-icon {
  color: #28A745;
  margin-right: 10px;
  font-size: 14px;
}

/* ==========================================================================
   Diagnostics
   ========================================================================== */


.test-item,.repair-item {
  display: flex;
  align-items: center;
  margin-bottom: 12px;
  padding: 8px 12px;
  border-radius: 6px;
  background-color: #ffffff;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.test-number,.repair-number {
  font-weight: 600;
  margin-right: 5px;
  color: #495057;
}

.test-title,.repair-text {
  flex-grow: 1;
  color: #495057;
}

.test-badge {
  padding: 4px 10px;
  border-radius: 4px;
  font-weight: bold;
  text-align: center;
  min-width: 60px;
  margin-left: 10px;
}

.test-badge.pass {
  background-color: #28a745;
  color: white;
  box-shadow: 0 2px 4px rgba(40, 167, 69, 0.3);
}

.test-badge.fail {
  background-color: #dc3545;
  color: white;
  box-shadow: 0 2px 4px rgba(220, 53, 69, 0.3);
}

.test-badge.unknown {
  background-color: #6c757d;
  color: white;
  box-shadow: 0 2px 4px rgba(108, 117, 125, 0.3);
}

.repair-item.success {
  background-color: #f1f9f1;
  border-left: 4px solid #28a745;
}

.repair-item.warning {
  background-color: #fff9e6;
  border-left: 4px solid #ffc107;
}

/* ==========================================================================
   Overall Diagnostic Status Badge
   ========================================================================== */

/* For aligning the main card title and the new status badge */
.card-header-title-container {
  display: flex;
  align-items: center;
  justify-content: space-between; /* Pushes title and badge to opposite ends */
  width: 100%;
}

/* Base style for the new status badge */
.diagnostic-status-badge {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 12px;
  border-radius: 20px; /* Pill shape */
  font-weight: 700;
  font-size: 14px;
  margin-left: 20px; /* Space between title and badge */
}

/* Green 'OK' status */
.diagnostic-status-badge.status-ok {
  background-color: #e9f5ea; /* Light green */
  color: #28a745; /* Dark green */
  border: 1px solid #28a745;
}

/* Red 'Fail' status */
.diagnostic-status-badge.status-fail {
  background-color: #fdecea; /* Light red */
  color: #dc3545; /* Dark red */
  border: 1px solid #dc3545;
}

/* Yellow 'Warning' status */
.diagnostic-status-badge.status-warning {
  background-color: #fff8e1; /* Light yellow */
  color: #ffab00; /* Dark yellow */
  border: 1px solid #ffab00;
}

/* ==========================================================================
   Help Text Panel Styles
   ========================================================================== */

.help-container {
  background-color: white;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  margin-bottom: 25px;
  overflow: hidden;
  position: relative;
}
.help-header {
  color: #605CA8;
  font-weight: 600;
  font-size: 1.5em;
  background-color: #f8f9fa;
  padding: 15px 20px;
  border-bottom: 1px solid #e9ecef;
  display: flex;
  align-items: center;
}
.help-header i {
  margin-right: 12px;
  font-size: 1.0em;
  color: #28A745;
}
.help-section {
  padding: 20px;
  margin-bottom: 15px;
}
.help-step {
  display: flex;
  align-items: flex-start;
  margin-bottom: 18px;
  font-size: 1.2em;
  line-height: 1.6;
}
.help-step-number {
  background-color: #605CA8;
  color: white;
  font-weight: bold;
  border-radius: 50%;
  width: 28px;
  height: 28px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 15px;
  margin-top: 3px;
}
.help-step-content {
  color: #555555;
  font-size: 1.0em;
}
.help-step-content .help-detail {
  font-size: 1.0em;
  color: #6c757d;
  margin-top: 4px;
  padding-left: 5px;
  border-left: 2px solid #e9ecef;
}
.help-tip {
  background-color: #fdf8e4;
  border: 1px solid #fceec9;
  color: #c48200;
  font-size: 1.3em;
  padding: 15px;
  border-radius: 8px;
  margin-bottom: 0px;
  display: flex;
  align-items: center;
}
.help-tip i {
  margin-right: 10px;
  font-size: 1.1em;
}
.help-important-note {
  background-color: #f0f0f8;
  border-left: 4px solid #605CA8;
  padding: 15px 20px;
  border-radius: 8px;
  color: #555555;
  line-height: 1.6;
}
.help-info-box {
  background-color: #f8f9fa;
  border-radius: 8px;
  padding: 20px;
  margin: 20px 0;
  border-left: 4px solid #28A745;
}
.help-info-item {
  display: flex;
  align-items: center;
  margin-bottom: 12px;
  color: #555555;
}
.help-info-item i {
  margin-right: 12px;
  width: 20px;
  text-align: center;
}
.code-text {
  font-family: monospace;
  background-color: #e9ecef;
  padding: 2px 6px;
  border-radius: 4px;
  font-weight: 600;
}

/* Note style for below input fields */
.input-note {
  display: flex;
  align-items: center;
  gap: 8px; /* Adds space between the icon and text */
  font-size: 1.25rem; /* 14px */
  color: #6c757d; /* A standard subtle gray color */
  margin-top: 8px;
  font-style: italic;
}

/* Warning note style for below input fields */
.input-warning-note {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 1.25rem; /* 14px */
  font-weight: 600; /* Bolder for emphasis */
  color: #c48200; /* A strong warning yellow/orange */
  background-color: #fdf8e4; /* Light yellow background */
  border-left: 4px solid #ffc107; /* Accent border */
  padding: 8px 12px;
  border-radius: 4px;
  margin-top: 8px;
}

.tool-tip-icon {
  color: #28A745;
  margin-left: 5px;
  font-size: 12px;
}
